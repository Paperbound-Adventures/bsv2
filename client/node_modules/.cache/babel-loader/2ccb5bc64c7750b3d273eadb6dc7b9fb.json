{"ast":null,"code":"import _slicedToArray from \"/Users/jonchristie/Desktop/WEB_DEV_DOCS/Book-Search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/jonchristie/Desktop/WEB_DEV_DOCS/Book-Search/client/src/pages/Search.js\";\n\nimport React, { useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Saved from \"./pages/Saved\"; // import Search from \"./pages/Search\";\n\nimport Hero from \"./components/Hero\";\nimport API from \"../utils/API\";\nimport { Row, Container } from \"../components/Grid\";\nimport { Input, FormBtn } from \"../components/Form\";\nimport NavBar from \"./components/Nav\";\n\nvar Search = function Search() {\n  // Setting our component's initial state\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      searchBook = _useState4[0],\n      setSearchBook = _useState4[1]; // Handles updating component state when the user types into the input field\n\n\n  var handleInputChange = function handleInputChange(e) {\n    var value = e.target.value;\n    setSearchBook(value);\n  }; // When the form is submitted, use the API.saveBook method to save the book data\n  // Then reload books from the database\n\n\n  var handleFormSubmit = function handleFormSubmit(e) {\n    e.preventDefault();\n    API.getBooks(searchBook).then(function (res) {\n      setBooks(res.data.items);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var handleSaveBook = function handleSaveBook(e, data) {\n    e.preventDefault();\n    API.saveBook(data).then(function (res) {\n      return alert(\"Book Saved!\");\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \"Book Search\"), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Search Google Books\",\n    onChange: handleInputChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormBtn, {\n    onClick: handleFormSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"Search\"))), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, books.length ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row row-cols-3\",\n    style: {\n      justifyContent: \"center\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, books.map(function (book) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: book.id,\n      className: \"card col-sm-3\",\n      style: {\n        margin: \"15px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n      className: \"card-img-top\",\n      style: {\n        height: 260\n      },\n      alt: \"...\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"card-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 23\n      }\n    }, book.volumeInfo.title), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 23\n      }\n    }, book.volumeInfo.description ? book.volumeInfo.description.length >= 120 ? book.volumeInfo.description.slice(0, 120) : book.volumeInfo.description : \"No Description Available\", \" ...\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-dark\",\n      onClick: function onClick(e) {\n        return handleSaveBook(e, {\n          title: book.volumeInfo.title,\n          image: book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n          author: book.volumeInfo.authors[0],\n          description: book.volumeInfo.description,\n          link: book.volumeInfo.infoLink\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 23\n      }\n    }, \"SAVE\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 34\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      href: book.volumeInfo.infoLink,\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      className: \"card-link\",\n      style: {\n        padding: '0px',\n        textAlign: 'center'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 23\n      }\n    }, \"Purchase\")));\n  })) : /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \"No Results to Display\"))), /*#__PURE__*/React.createElement(NavBar, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Hero, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/jonchristie/Desktop/WEB_DEV_DOCS/Book-Search/client/src/pages/Search.js"],"names":["React","useState","BrowserRouter","Router","Route","Switch","Saved","Hero","API","Row","Container","Input","FormBtn","NavBar","Search","books","setBooks","searchBook","setSearchBook","handleInputChange","e","value","target","handleFormSubmit","preventDefault","getBooks","then","res","data","items","catch","err","console","log","handleSaveBook","saveBook","alert","length","justifyContent","map","book","id","margin","volumeInfo","imageLinks","thumbnail","height","title","description","slice","image","author","authors","link","infoLink","padding","textAlign"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Saved from \"./pages/Saved\";\n// import Search from \"./pages/Search\";\nimport Hero from \"./components/Hero\";\nimport API from \"../utils/API\";\nimport { Row, Container } from \"../components/Grid\";\nimport { Input, FormBtn } from \"../components/Form\";\n\nimport NavBar from \"./components/Nav\";\nconst Search = () => {\n  // Setting our component's initial state\n  const [books, setBooks] = useState([]);\n  const [searchBook, setSearchBook] = useState(\"\");\n\n  // Handles updating component state when the user types into the input field\n  const handleInputChange = e => {\n    const { value } = e.target;\n    setSearchBook(value);\n  };\n\n  // When the form is submitted, use the API.saveBook method to save the book data\n  // Then reload books from the database\n  const handleFormSubmit = e => {\n    e.preventDefault();\n    API.getBooks(searchBook)\n      .then((res) => {\n        setBooks(res.data.items);\n      })\n      .catch((err) => console.log(err));\n  };\n  \n  const handleSaveBook = (e, data) => {\n    e.preventDefault();\n\n    API.saveBook(data)\n      .then((res) => alert(\"Book Saved!\"))\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <Container>\n      <Row>\n        <Container fluid>\n          <h4>Book Search</h4>\n          <Input\n            placeholder=\"Search Google Books\"\n            onChange={handleInputChange}\n          />\n          <FormBtn onClick={handleFormSubmit}>Search</FormBtn>\n        </Container>\n      </Row>\n      <Row>\n        <Container>\n          {books.length ? (\n            <div\n              className=\"row row-cols-3\"\n              style={{ justifyContent: \"center\" }}\n            >\n              {books.map((book) => {\n                return (\n                  <div\n                    key={book.id}\n                    className=\"card col-sm-3\"\n                    style={{ margin: \"15px\" }}\n                  >\n                    <img\n                      src={\n                        book.volumeInfo.imageLinks\n                          ? book.volumeInfo.imageLinks.thumbnail\n                          : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\"\n                      }\n                      className=\"card-img-top\"\n                      style={{ height: 260 }}\n                      alt=\"...\"\n                    ></img>\n                    <div className=\"card-body\">\n                      <h5 className=\"card-title\">\n                        {book.volumeInfo.title}\n                      </h5>\n                      <p className=\"card-text\">\n                        {book.volumeInfo.description\n                          ? book.volumeInfo.description.length >=\n                            120\n                            ? book.volumeInfo.description.slice(\n                              0,\n                              120\n                            )\n                            : book.volumeInfo.description\n                          : \"No Description Available\"} ...\n                      </p>\n                      <button\n                        className=\"btn btn-dark\"\n                        onClick={(e) =>\n                          handleSaveBook(e, {\n                            title: book.volumeInfo.title,\n                            image: book.volumeInfo.imageLinks\n                              ? book.volumeInfo.imageLinks\n                                .thumbnail\n                              : \"http://icons.iconarchive.com/icons/paomedia/small-n-flat/128/book-icon.png\",\n                            author: book.volumeInfo.authors[0],\n                            description:\n                              book.volumeInfo.description,\n                            link: book.volumeInfo.infoLink,\n                          })\n                        }\n                      >\n                        SAVE\n                        </button><p></p>\n                      <a\n                        href={book.volumeInfo.infoLink}\n                        rel=\"noopener noreferrer\"\n                        target={\"_blank\"}\n                        className=\"card-link\"\n                        style={{ padding: '0px', textAlign: 'center' }}\n                      >\n                        Purchase\n                        </a>\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          ) : (\n              <h5>No Results to Display</h5>\n            )}\n        </Container>\n      </Row>\n      <NavBar />\n      <Hero />\n    </Container>\n  );\n};\nexport default Search;"]},"metadata":{},"sourceType":"module"}